!function(){for(var n,a=function(){},t=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],e=t.length,i=window.console=window.console||{};e--;)n=t[e],i[n]||(i[n]=a)}(),document.addEventListener("DOMContentLoaded",function(){var n=function(){var n=1,a=[],t=function(n){for(i=0;i<n.length;i++){var t=[n[i].id,n[i].name.toLowerCase()];a.push(t)}};return{getData:function(a){$.ajax({type:"POST",url:"productsHandler.php",data:{setPage:n,setPageSize:3},dataType:"json",cache:!1,success:function(e){n++,t(e),$.isFunction(a)&&a(e)},error:function(n){console.log("Error"),console.log(n)}})},getPhonesData:function(){return a}}}(),a=function(){var n={contentPhones:".content--phones",mainButtonContent:".main-button--content",searchBtn:".searchBtn",searchInput:".searchInput",searchInputOn:".searchInputOn",navbarRight:".navbar-right"};return{getDOMstrings:function(){return n},printPhone:function(a){for(i=0;i<a.length;i++){var t='<div data-id="%id%" class="phone-box"><p class="phone-box--name">%name%</p><img src="img/telefon.png" alt="telefon"><p class="phone-box--price">%price% PLN</p><div class="phone-box-more"><div class="phone-box-more--text"><p>Ekran %ekran%</p><p>Aparat %aparat%</p><p>Bateria %bateria%</p><p>%ram%</p></div><div class="phone-box-more--buttons"><button class="main-button main-button__black"><img class="card" src="img/icon cart_white.svg" alt="card" ></button><button class="main-button main-button__white">PORÃ“WNAJ</button></div></div></div>',e=t.replace("%name%",a[i].name),e=e.replace("%id%",a[i].id),e=e.replace("telefon.png",a[i].image),e=e.replace("%price%",a[i].price.value),e=e.replace("PLN",a[i].price.currency),e=e.replace("%ekran%",a[i].information.display),e=e.replace("%aparat%",a[i].information.camera),e=e.replace("%bateria%",a[i].information.battery),e=e.replace("%ram%",a[i].information.memory);$(n.contentPhones).append(e)}}}}();(function(a,t){var e=t.getDOMstrings(),o=function(){$(e.mainButtonContent).click(function(){r()}),$(e.searchBtn).click(c),$(e.searchInput).keyup(function(){s()})},r=function(){n.getData(function(n){t.printPhone(n)})},c=function(){""==$(e.searchInput).val()&&($(e.searchInput).toggleClass("searchInputOn"),$(e.navbarRight+">li:not(:last)").toggleClass("opacityFlag"))},s=function(){var a=n.getPhonesData(),t=$(e.searchInput).val(),o=t.toLowerCase();for(i=0;i<a.length;i++)a[i][1].indexOf(o)<0?0==$('*[data-id="'+(i+1)+'"]').hasClass("displayFlag")&&$('*[data-id="'+(i+1)+'"]').addClass("displayFlag"):1==$('*[data-id="'+(i+1)+'"]').hasClass("displayFlag")&&$('*[data-id="'+(i+1)+'"]').removeClass("displayFlag")};return{init:function(){console.log("App has started"),o(),r()}}})(0,a).init()});